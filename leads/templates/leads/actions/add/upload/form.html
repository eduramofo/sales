{% load widget_tweaks %}
{% load crispy_forms_tags %}


<form id="upload-leads-form" method="post" action="{% url 'leads:actions:add_upload' lead.id %}" enctype="multipart/form-data" class="bg-light p-4 rounded">
    
    {% csrf_token %}
    {{ form.name.as_hidden }}
    {{ form.lead.as_hidden }}

    {{ form.referring_datetime|as_crispy_field }}    
    {{ form.validation|as_crispy_field }}
    {{ form.gmt|as_crispy_field }}
    {{ form.short_description|as_crispy_field }}
    {{ form.location|as_crispy_field }}

    <div class="form-group border border-dark rounded p-3">
        <label for="{{ form.vcf_files.id_for_label }}">
            <strong>{{ form.vcf_files.label }}</strong>
        </label>
        {% if not form.vcf_files.errors %}
            {{ form.vcf_files|attr:"multiple"|add_class:'form-control-file' }}
        {% else %}
            {{ form.vcf_files|attr:"multiple"|add_class:'form-control-file is-invalid' }}
        {% endif %}
        <div class="invalid-feedback">{{ form.vcf_files.errors }}</div>
    </div>

    <div class="form-group mb-0">
        <button type="submit" class="btn btn-block btn-success border border-dark">Carregar Contatos</button>
    </div>

</form>
